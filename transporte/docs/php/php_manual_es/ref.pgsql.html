<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>Funciones PostgreSQL</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="Manual de PHP"
HREF="index.html"><LINK
REL="UP"
TITLE="Referencia de las Funciones"
HREF="funcref.html"><LINK
REL="PREVIOUS"
TITLE="posix_uname"
HREF="function.posix-uname.html"><LINK
REL="NEXT"
TITLE="pg_affected_rows"
HREF="function.pg-affected-rows.html"><META
HTTP-EQUIV="Content-type"
CONTENT="text/html; charset=ISO-8859-1"></HEAD
><BODY
CLASS="reference"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Manual de PHP</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="function.posix-uname.html"
ACCESSKEY="P"
>Anterior</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="function.pg-affected-rows.html"
ACCESSKEY="N"
>Siguiente</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="reference"
><A
NAME="ref.pgsql"
></A
><DIV
CLASS="TITLEPAGE"
><H1
CLASS="title"
>LXXXV. Funciones PostgreSQL</H1
><DIV
CLASS="PARTINTRO"
><A
NAME="AEN87744"
></A
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="pgsql.intro"
>Introducción</A
></H1
><P
>&#13;     La base de datos PostrgeSQL es un producto Open Source y
     disponible sin costo. Postgres, desarrollado originalmente en el
     Deportamento de Ciencias de Computación de UC Berkeley,
     fue pionero en muchos de los conceptos de objetos y relacionales
     que ahora están apareciendo en algunas bases de datos
     comerciales. Provee soporte para lenguajes SQL92/SQL99,
     transacciones, integridad referencial, procedimientos almacenados
     y extensibilidad de tipos. PostgreSQL es un descendiente de
     código abierto de su código original de Berkeley.
    </P
></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="pgsql.requirements"
>Requerimientos</A
></H1
><P
>&#13;     Para hacer uso del soporte PostgreSQL, necesita PostgreSQL 6.5 o
     posterior, PostgreSQL 7.0 o posterior para habilitar todas las
     características del módulo. PostgreSQL soporta
     varias codificaciones de caracteres, incluyendo
     codificación de caracteres multibyte. Su versión
     actual, asi como más información sobre PostgreSQL
     se encuentra disponible en <A
HREF="http://www.postgresql.org/"
TARGET="_top"
>http://www.postgresql.org/</A
> y
     <A
HREF="http://techdocs.postgresql.org/"
TARGET="_top"
>http://techdocs.postgresql.org/</A
>.
    </P
></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="pgsql.installation"
>Instalación</A
></H1
><P
>&#13;  In order to enable PostgreSQL support,
  <VAR
CLASS="option"
>--with-pgsql[=DIR]</VAR
> is required when you compile
  PHP. DIR is the PostgreSQL base install directory, defaults to
  <TT
CLASS="filename"
>/usr/local/pgsql</TT
>. If shared object module is
  available, PostgreSQL module may be loaded using
  <A
HREF="ini.sect.path-directory.html#ini.extension"
>extension</A
> directive in <TT
CLASS="filename"
>php.ini</TT
> or
  <A
HREF="function.dl.html"
><B
CLASS="function"
>dl()</B
></A
>
  function.
 </P
></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="pgsql.configuration"
>Configuración en tiempo de
ejecución</A
></H1
><P
>El comportamiento de estas
funciones está afectado por los valores definidos en
<TT
CLASS="filename"
>php.ini</TT
>.</P
><P
>&#13; <DIV
CLASS="table"
><A
NAME="AEN87766"
></A
><P
><B
>Tabla 1. PostgreSQL configuration options</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><COL><COL><COL><THEAD
><TR
><TH
>Name</TH
><TH
>Default</TH
><TH
>Changeable</TH
></TR
></THEAD
><TBODY
><TR
><TD
>pgsql.allow_persistent</TD
><TD
>"1"</TD
><TD
>PHP_INI_SYSTEM</TD
></TR
><TR
><TD
>pgsql.max_persistent</TD
><TD
>"-1"</TD
><TD
>PHP_INI_SYSTEM</TD
></TR
><TR
><TD
>pgsql.max_links</TD
><TD
>"-1"</TD
><TD
>PHP_INI_SYSTEM</TD
></TR
><TR
><TD
>pgsql.auto_reset_persistent</TD
><TD
>"0"</TD
><TD
>PHP_INI_SYSTEM</TD
></TR
><TR
><TD
>pgsql.ignore_notice</TD
><TD
>"0"</TD
><TD
>PHP_INI_ALL</TD
></TR
><TR
><TD
>pgsql.log_notice</TD
><TD
>"0"</TD
><TD
>PHP_INI_ALL</TD
></TR
></TBODY
></TABLE
></DIV
>
  For further details and definition of the PHP_INI_* constants see
  <A
HREF="function.ini-set.html"
><B
CLASS="function"
>ini_set()</B
></A
>.
  </P
><P
>A continuación se
presenta una corta explicación de las directivas de
configuración.</P
><P
>&#13;  <P
></P
><DIV
CLASS="variablelist"
><DL
><DT
><A
NAME="ini.pgsql.allow-persistent"
></A
><VAR
CLASS="parameter"
>pgsql.allow_persistent</VAR
>
     <A
HREF="language.types.boolean.html"
><B
CLASS="type"
>boolean</B
></A
></DT
><DD
><P
>&#13;      Whether to allow persistent Postgres connections.
     </P
></DD
><DT
><A
NAME="ini.pgsql.max-persistent"
></A
><VAR
CLASS="parameter"
>pgsql.max_persistent</VAR
>
     <A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
></DT
><DD
><P
>&#13;      The maximum number of persistent Postgres connections per
      process.
     </P
></DD
><DT
><A
NAME="ini.pgsql.max-links"
></A
><VAR
CLASS="parameter"
>pgsql.max_links</VAR
>
     <A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
></DT
><DD
><P
>&#13;      The maximum number of Postgres connections per process,
      including persistent connections.
     </P
></DD
><DT
><A
NAME="ini.pgsql.auto-reset-persistent"
></A
><VAR
CLASS="parameter"
>pgsql.auto_reset_persistent</VAR
>
     <A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
></DT
><DD
><P
>&#13;      Detect broken persistent links with <A
HREF="function.pg-pconnect.html"
><B
CLASS="function"
>pg_pconnect()</B
></A
>.
      Needs a little overhead. 
     </P
></DD
><DT
><A
NAME="ini.pgsql.ignore-notice"
></A
><VAR
CLASS="parameter"
>pgsql.ignore_notice</VAR
>
     <A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
></DT
><DD
><P
>&#13;      Whether or not to ignore PostgreSQL backend notices.
     </P
></DD
><DT
><A
NAME="ini.pgsql.log-notice"
></A
><VAR
CLASS="parameter"
>pgsql.log_notice</VAR
>
     <A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
></DT
><DD
><P
>&#13;      Whether or not to log PostgreSQL backends notice messages.  The PHP
      directive <A
HREF="ref.pgsql.html#ini.pgsql.ignore-notice"
>&#13;      pgsql.ignore_notice</A
> must be off in order to log notice
      messages.
     </P
></DD
></DL
></DIV
>
 </P
></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="pgsql.using"
>Modo de uso y consejos</A
></H1
><DIV
CLASS="warning"
><P
></P
><TABLE
CLASS="warning"
BORDER="1"
WIDTH="100%"
><TR
><TD
ALIGN="CENTER"
><B
>Aviso</B
></TD
></TR
><TR
><TD
ALIGN="LEFT"
><P
>&#13;      El uso del módulo PostgreSQL con PHP 4.0.6 no se
      recomienda debido a un fallo en el código de
      gestión de mensajes tipo noticia. Use la versión
      4.1.0 o posterior.
     </P
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="warning"
><P
></P
><TABLE
CLASS="warning"
BORDER="1"
WIDTH="100%"
><TR
><TD
ALIGN="CENTER"
><B
>Aviso</B
></TD
></TR
><TR
><TD
ALIGN="LEFT"
><P
>&#13;      Los nombres de funciones PostgreSQL serán modificados en
      el lanzamiento 4.2.0 para adoptar los estándares de
      código actuales. La mayoría de nombres nuevos
      tendrán signos de subrayado adicionales,
      p.ej. pg_lo_open(). Algunas funciones son renombradas a nuevos
      nombres por razones de consistencia, p.ej. pg_exec() a
      pg_query(). Los nombres antiguos pueden ser usados en 4.2.0 y
      algunas versiones subsiguientes, pero pueden ser eliminados en
      el futuro.
     </P
><DIV
CLASS="table"
><A
NAME="AEN87847"
></A
><P
><B
>Tabla 2. Nombres de función modificados</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><COL><COL><THEAD
><TR
><TH
>Nombre antiguo</TH
><TH
>Nombre nuevo</TH
></TR
></THEAD
><TBODY
><TR
><TD
><B
CLASS="function"
>pg_cmdtuples()</B
></TD
><TD
><A
HREF="function.pg-affected-rows.html"
><B
CLASS="function"
>pg_affected_rows()</B
></A
></TD
></TR
><TR
><TD
><B
CLASS="function"
>pg_errormessage()</B
></TD
><TD
><A
HREF="function.pg-last-error.html"
><B
CLASS="function"
>pg_last_error()</B
></A
></TD
></TR
><TR
><TD
><B
CLASS="function"
>pg_exec()</B
></TD
><TD
><A
HREF="function.pg-query.html"
><B
CLASS="function"
>pg_query()</B
></A
></TD
></TR
><TR
><TD
><B
CLASS="function"
>pg_fieldname()</B
></TD
><TD
><A
HREF="function.pg-field-name.html"
><B
CLASS="function"
>pg_field_name()</B
></A
></TD
></TR
><TR
><TD
><B
CLASS="function"
>pg_fieldsize()</B
></TD
><TD
><A
HREF="function.pg-field-size.html"
><B
CLASS="function"
>pg_field_size()</B
></A
></TD
></TR
><TR
><TD
><B
CLASS="function"
>pg_fieldnum()</B
></TD
><TD
><A
HREF="function.pg-field-num.html"
><B
CLASS="function"
>pg_field_num()</B
></A
></TD
></TR
><TR
><TD
><B
CLASS="function"
>pg_fieldprtlen()</B
></TD
><TD
><A
HREF="function.pg-field-prtlen.html"
><B
CLASS="function"
>pg_field_prtlen()</B
></A
></TD
></TR
><TR
><TD
><B
CLASS="function"
>pg_fieldisnull()</B
></TD
><TD
><A
HREF="function.pg-field-is-null.html"
><B
CLASS="function"
>pg_field_is_null()</B
></A
></TD
></TR
><TR
><TD
><B
CLASS="function"
>pg_freeresult()</B
></TD
><TD
><A
HREF="function.pg-free-result.html"
><B
CLASS="function"
>pg_free_result()</B
></A
></TD
></TR
><TR
><TD
><B
CLASS="function"
>pg_getlastoid()</B
></TD
><TD
><A
HREF="function.pg-last-oid.html"
><B
CLASS="function"
>pg_last_oid()</B
></A
></TD
></TR
><TR
><TD
><B
CLASS="function"
>pg_loreadall()</B
></TD
><TD
><A
HREF="function.pg-lo-read-all.html"
><B
CLASS="function"
>pg_lo_read_all()</B
></A
></TD
></TR
><TR
><TD
><B
CLASS="function"
>pg_locreate()</B
></TD
><TD
><A
HREF="function.pg-lo-create.html"
><B
CLASS="function"
>pg_lo_create()</B
></A
></TD
></TR
><TR
><TD
><B
CLASS="function"
>pg_lounlink()</B
></TD
><TD
><A
HREF="function.pg-lo-unlink.html"
><B
CLASS="function"
>pg_lo_unlink()</B
></A
></TD
></TR
><TR
><TD
><B
CLASS="function"
>pg_loopen()</B
></TD
><TD
><A
HREF="function.pg-lo-open.html"
><B
CLASS="function"
>pg_lo_open()</B
></A
></TD
></TR
><TR
><TD
><B
CLASS="function"
>pg_loclose()</B
></TD
><TD
><A
HREF="function.pg-lo-close.html"
><B
CLASS="function"
>pg_lo_close()</B
></A
></TD
></TR
><TR
><TD
><B
CLASS="function"
>pg_loread()</B
></TD
><TD
><A
HREF="function.pg-lo-read.html"
><B
CLASS="function"
>pg_lo_read()</B
></A
></TD
></TR
><TR
><TD
><B
CLASS="function"
>pg_lowrite()</B
></TD
><TD
><A
HREF="function.pg-lo-write.html"
><B
CLASS="function"
>pg_lo_write()</B
></A
></TD
></TR
><TR
><TD
><B
CLASS="function"
>pg_loimport()</B
></TD
><TD
><A
HREF="function.pg-lo-import.html"
><B
CLASS="function"
>pg_lo_import()</B
></A
></TD
></TR
><TR
><TD
><B
CLASS="function"
>pg_loexport()</B
></TD
><TD
><A
HREF="function.pg-lo-export.html"
><B
CLASS="function"
>pg_lo_export()</B
></A
></TD
></TR
><TR
><TD
><B
CLASS="function"
>pg_numrows()</B
></TD
><TD
><A
HREF="function.pg-num-rows.html"
><B
CLASS="function"
>pg_num_rows()</B
></A
></TD
></TR
><TR
><TD
><B
CLASS="function"
>pg_numfields()</B
></TD
><TD
><A
HREF="function.pg-num-fields.html"
><B
CLASS="function"
>pg_num_fields()</B
></A
></TD
></TR
><TR
><TD
><B
CLASS="function"
>pg_result()</B
></TD
><TD
><A
HREF="function.pg-fetch-result.html"
><B
CLASS="function"
>pg_fetch_result()</B
></A
></TD
></TR
></TBODY
></TABLE
></DIV
><P
>&#13;     La vieja
     sintaxis <A
HREF="function.pg-connect.html"
><B
CLASS="function"
>pg_connect()</B
></A
>/<A
HREF="function.pg-pconnect.html"
><B
CLASS="function"
>pg_pconnect()</B
></A
>
     será marcada como obsoleta para dar soporte a conexiones
     asincrónicas en el futuro. Por favor use una cadena de
     conexión para <A
HREF="function.pg-connect.html"
><B
CLASS="function"
>pg_connect()</B
></A
>
     y <A
HREF="function.pg-pconnect.html"
><B
CLASS="function"
>pg_pconnect()</B
></A
>.
    </P
></TD
></TR
></TABLE
></DIV
><P
>&#13;    No todas las funciones son soportadas en todas las
    instalaciones. Depende de su versión de libpq (la interfaz
    C de Cliente PostrgeSQL) y de cómo fue compilado libpq. Si
    hace falta alguna función, libpq no soporta la
    característica requerida para la función.
   </P
><P
>&#13;    También es importante que no use una versión de
    libpq más antigua que la del Servidor PostgreSQL al que se
    conectará. Si usa una versión de libpq más
    antigua que la que el Servidor PostgreSQL espera, puede tener
    problemas.
   </P
><P
>&#13;    A partir de la versión 6.3 (03/02/1998) PostgreSQL usa
    sockets de dominio unix por defecto. El puerto TCP NO será
    abierto por defecto. A continuación se presenta una tabla
    que describe estas posibilidades de conexión nuevas. Este
    socket se encontrará
    en <TT
CLASS="filename"
>/tmp/.s.PGSQL.5432</TT
>. Esta opción
    puede habilitarse con la bandera '-i'
    a <B
CLASS="command"
>postmaster</B
> y su significado es: "escuche en
    sockets TCP/IP asi como en sockets de dominio Unix".
    <DIV
CLASS="table"
><A
NAME="AEN87975"
></A
><P
><B
>Tabla 3. Postmaster y PHP</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><COL><COL><COL><THEAD
><TR
><TH
>Postmaster</TH
><TH
>PHP</TH
><TH
>Status</TH
></TR
></THEAD
><TBODY
><TR
><TD
>postmaster &#38;</TD
><TD
>pg_connect("dbname=NombreDeMiBD");</TD
><TD
>OK</TD
></TR
><TR
><TD
>postmaster -i &#38;</TD
><TD
>pg_connect("dbname=NombreDeMiBD");</TD
><TD
>OK</TD
></TR
><TR
><TD
>postmaster &#38;</TD
><TD
>pg_connect("host=localhost dbname=NombreDeMiBD");</TD
><TD
>&#13;         No fue posible conectarse con el servidor PostgreSQL:
         connectDB() falló: ¿Está corriendo
         postmaster y acepta conexiones TCP/IP (con -i) en 'localhost'
         en el puerto '5432'? en /ruta/hacia/archivo.php en la
         línea 20.
        </TD
></TR
><TR
><TD
>postmaster -i &#38;</TD
><TD
>pg_connect("host=localhost dbname=NombreDeMiBD");</TD
><TD
>OK</TD
></TR
></TBODY
></TABLE
></DIV
>
   </P
><P
>&#13;    Puede establecerse una conexión con el servidor PostgreSQL
    con el siguiente juego de pares de valores en la cadena de
    comando:
    <B
CLASS="command"
>$con = pg_connect("host=miHost port=miPuerto tty=miTTY
    options=misOpciones dbname=miBD user=miUsuario
    password=miContrasenya ");</B
>
   </P
><P
>&#13;    La sintaxis previa de:
    <B
CLASS="command"
>&#13;     $conn = pg_connect ("host", "port", "options", "tty", "dbname")
    </B
>
    ha sido marcada como obsoleta.
   </P
><P
>&#13;    Las variables de entorno afectan el comportamiente de
    servidor/cliente de PostgreSQL. Por ejemplo, el módulo
    PostgreSQL buscará la variable de entorno PGHOSN cuando el
    nombre de host sea omitido en la cadena de conexión. Las
    variables de entorno soportadas son diferentes entre
    versión y versión. Refiérase el Manual de
    Programador de PostgreSQL (libpq - Variables de Entorno) para
    más detalles.
   </P
><P
>&#13;    Asegúrese de establecer las variables de entorno para el
    usuario apropiado. Use <VAR
CLASS="literal"
>$_ENV</VAR
>
    o <A
HREF="function.getenv.html"
><B
CLASS="function"
>getenv()</B
></A
> para chequear cuáles
    variables de entorno están disponibles en el proceso
    actual.
   </P
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
CLASS="EXAMPLE"
><TR
><TD
><DIV
CLASS="example"
><A
NAME="AEN88008"
></A
><P
><B
>Ejemplo 1. Definición de parámetros
    predeterminados</B
></P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="programlisting"
>PGHOST=pgsql.example.com
PGPORT=7890
PGDATABASE=sistema-web
PGUSER=usuario-web
PGPASSWORD=secreto
PGDATESTYLE=ISO
PGTZ=JST
PGCLIENTENCODING=EUC-JP

export PGHOST PGPORT PGDATABASE PGUSER PGPASSWORD PGDATESTYLE PGTZ PGCLIENTENCODING</PRE
></TD
></TR
></TABLE
></DIV
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="pgsql.constants"
>Constantes predefinidas</A
></H1
><P
>Estas constantes están
definidas por esta extensión y estarán disponibles
solamente cuando la extensión ha sido o bien compilada dentro
de PHP o grabada dinámicamente en tiempo de ejecución.
</P
><P
></P
><DIV
CLASS="variablelist"
><DL
><DT
><TT
CLASS="constant"
><B
>PGSQL_ASSOC</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
><DT
><TT
CLASS="constant"
><B
>PGSQL_NUM</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
><DT
><TT
CLASS="constant"
><B
>PGSQL_BOTH</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
><DT
><TT
CLASS="constant"
><B
>PGSQL_CONNECTION_BAD</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
><DT
><TT
CLASS="constant"
><B
>PGSQL_CONNECTION_OK</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
><DT
><TT
CLASS="constant"
><B
>PGSQL_SEEK_SET</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
><DT
><TT
CLASS="constant"
><B
>PGSQL_SEEK_CUR</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
><DT
><TT
CLASS="constant"
><B
>PGSQL_SEEK_END</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
><DT
><TT
CLASS="constant"
><B
>PGSQL_ESCAPE_STRING</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
><DT
><TT
CLASS="constant"
><B
>PGSQL_ESCAPE_BYTEA</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
><DT
><TT
CLASS="constant"
><B
>PGSQL_EMPTY_QUERY</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
><DT
><TT
CLASS="constant"
><B
>PGSQL_COMMAND_OK</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
><DT
><TT
CLASS="constant"
><B
>PGSQL_TUPLES_OK</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
><DT
><TT
CLASS="constant"
><B
>PGSQL_COPY_OUT</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
><DT
><TT
CLASS="constant"
><B
>PGSQL_COPY_IN</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
><DT
><TT
CLASS="constant"
><B
>PGSQL_BAD_RESPONSE</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
><DT
><TT
CLASS="constant"
><B
>PGSQL_NONFATAL_ERROR</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
><DT
><TT
CLASS="constant"
><B
>PGSQL_FATAL_ERROR</B
></TT
> 
    (<A
HREF="language.types.integer.html"
><B
CLASS="type"
>integer</B
></A
>)</DT
><DD
><P
>&#13;     
    </P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="pgsql.examples"
>Ejemplos</A
></H1
><P
>&#13;     A partir de PostgreSQL 7.1.0, puede almacenar hasta 1GB en un
     campo de tipo texto. En versiones anteriores, éste se
     encontraba limitado al tamaño de bloque (por defecto 8KB,
     el máximo era 32KB, definido en tiempo de
     compilación)
    </P
><P
>&#13;     Para usar la interfaz de objetos grandes (lo), es necesario
     ubicar las funciones de objetos grandes en el interior de un
     bloque de transacción. Un bloque de transacción
     comienza con una sentencia SQL <B
CLASS="command"
>BEGIN</B
> y, si la
     transacción fue válida, termina
     con <B
CLASS="command"
>COMMIT</B
> o <B
CLASS="command"
>END</B
>. Si la
     transacción falla, ésta debe ser cerrada
     con <B
CLASS="command"
>ROLLBACK</B
> o
     <B
CLASS="command"
>ABORT</B
>.
     <TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
CLASS="EXAMPLE"
><TR
><TD
><DIV
CLASS="example"
><A
NAME="AEN88132"
></A
><P
><B
>Ejemplo 2. Uso de Objetos Grandes</B
></P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><code><font color="#000000">
<font color="#0000BB">&lt;?php<br />&nbsp;&nbsp;&nbsp;&nbsp;$base_de_datos </font><font color="#007700">= </font><font color="#0000BB">pg_connect</font><font color="#007700">(</font><font color="#DD0000">"dbname=jacarta"</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">pg_query</font><font color="#007700">(</font><font color="#0000BB">$base_de_datos</font><font color="#007700">, </font><font color="#DD0000">"begin"</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$oid </font><font color="#007700">= </font><font color="#0000BB">pg_lo_create</font><font color="#007700">(</font><font color="#0000BB">$base_de_datos</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;echo </font><font color="#DD0000">"$oid</font><font color="#007700">\n</font><font color="#DD0000">"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$gestor </font><font color="#007700">= </font><font color="#0000BB">pg_lo_open</font><font color="#007700">(</font><font color="#0000BB">$base_de_datos</font><font color="#007700">, </font><font color="#0000BB">$oid</font><font color="#007700">, </font><font color="#DD0000">"w"</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;echo </font><font color="#DD0000">"$gestor</font><font color="#007700">\n</font><font color="#DD0000">"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">pg_lo_write</font><font color="#007700">(</font><font color="#0000BB">$gestor</font><font color="#007700">, </font><font color="#DD0000">"datos de objeto grande"</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">pg_lo_close</font><font color="#007700">(</font><font color="#0000BB">$gestor</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">pg_query</font><font color="#007700">(</font><font color="#0000BB">$base_de_datos</font><font color="#007700">, </font><font color="#DD0000">"commit"</font><font color="#007700">);<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD
></TR
></TABLE
></DIV
></TD
></TR
></TABLE
>
     Usted no debe cerrar la conexión con el servidor PostgreSQL
     antes de cerrar el objeto grande.
    </P
></DIV
></DIV
><DIV
CLASS="TOC"
><DL
><DT
><B
>Tabla de contenidos</B
></DT
><DT
><A
HREF="function.pg-affected-rows.html"
>pg_affected_rows</A
>&nbsp;--&nbsp;Returns number of affected records (tuples)</DT
><DT
><A
HREF="function.pg-cancel-query.html"
>pg_cancel_query</A
>&nbsp;--&nbsp;
     Cancel asynchronous query
    </DT
><DT
><A
HREF="function.pg-client-encoding.html"
>pg_client_encoding</A
>&nbsp;--&nbsp;
     Gets the client encoding
    </DT
><DT
><A
HREF="function.pg-close.html"
>pg_Close</A
>&nbsp;--&nbsp;Cierra una conexión PostgreSQL</DT
><DT
><A
HREF="function.pg-connect.html"
>pg_Connect</A
>&nbsp;--&nbsp;Abre una conexión</DT
><DT
><A
HREF="function.pg-connection-busy.html"
>pg_connection_busy</A
>&nbsp;--&nbsp;
     Get connection is busy or not
    </DT
><DT
><A
HREF="function.pg-connection-reset.html"
>pg_connection_reset</A
>&nbsp;--&nbsp;
     Reset connection (reconnect)
    </DT
><DT
><A
HREF="function.pg-connection-status.html"
>pg_connection_status</A
>&nbsp;--&nbsp;
     Get connection status
    </DT
><DT
><A
HREF="function.pg-convert.html"
>pg_convert</A
>&nbsp;--&nbsp;
     Convert associative array value into suitable for SQL statement.
    </DT
><DT
><A
HREF="function.pg-copy-from.html"
>pg_copy_from</A
>&nbsp;--&nbsp;
     Insert records into a table from an array
    </DT
><DT
><A
HREF="function.pg-copy-to.html"
>pg_copy_to</A
>&nbsp;--&nbsp;
     Copy a table to an array
    </DT
><DT
><A
HREF="function.pg-dbname.html"
>pg_DBname</A
>&nbsp;--&nbsp;Nombre de la base de datos</DT
><DT
><A
HREF="function.pg-delete.html"
>pg_delete</A
>&nbsp;--&nbsp;
     Deletes records.
    </DT
><DT
><A
HREF="function.pg-end-copy.html"
>pg_end_copy</A
>&nbsp;--&nbsp;Sync with PostgreSQL backend</DT
><DT
><A
HREF="function.pg-escape-bytea.html"
>pg_escape_bytea</A
>&nbsp;--&nbsp;
     Escape binary for bytea type
    </DT
><DT
><A
HREF="function.pg-escape-string.html"
>pg_escape_string</A
>&nbsp;--&nbsp;
     Escape string for text/char type
    </DT
><DT
><A
HREF="function.pg-fetch-all.html"
>pg_fetch_all</A
>&nbsp;--&nbsp;Fetches all rows from a result as an array</DT
><DT
><A
HREF="function.pg-fetch-array.html"
>pg_Fetch_Array</A
>&nbsp;--&nbsp;obtiene una fila en la forma de un array</DT
><DT
><A
HREF="function.pg-fetch-assoc.html"
>pg_fetch_assoc</A
>&nbsp;--&nbsp;Fetch a row as an associative array</DT
><DT
><A
HREF="function.pg-fetch-object.html"
>pg_Fetch_Object</A
>&nbsp;--&nbsp;obtener una fila en forma de objeto</DT
><DT
><A
HREF="function.pg-fetch-result.html"
>pg_fetch_result</A
>&nbsp;--&nbsp;Returns values from a result resource</DT
><DT
><A
HREF="function.pg-fetch-row.html"
>pg_Fetch_Row</A
>&nbsp;--&nbsp;obtiene la fila como un array enumerado</DT
><DT
><A
HREF="function.pg-field-is-null.html"
>pg_field_is_null</A
>&nbsp;--&nbsp;Test if a field is <TT
CLASS="constant"
><B
>NULL</B
></TT
></DT
><DT
><A
HREF="function.pg-field-name.html"
>pg_field_name</A
>&nbsp;--&nbsp;Returns the name of a field</DT
><DT
><A
HREF="function.pg-field-num.html"
>pg_field_num</A
>&nbsp;--&nbsp;Returns the field number of the named field</DT
><DT
><A
HREF="function.pg-field-prtlen.html"
>pg_field_prtlen</A
>&nbsp;--&nbsp;Returns the printed length</DT
><DT
><A
HREF="function.pg-field-size.html"
>pg_field_size</A
>&nbsp;--&nbsp;
     Returns the internal storage size of the named field
    </DT
><DT
><A
HREF="function.pg-field-type.html"
>pg_field_type</A
>&nbsp;--&nbsp;
     Returns the type name for the corresponding field number
    </DT
><DT
><A
HREF="function.pg-free-result.html"
>pg_free_result</A
>&nbsp;--&nbsp;Free result memory</DT
><DT
><A
HREF="function.pg-get-notify.html"
>pg_get_notify</A
>&nbsp;--&nbsp;Ping database connection</DT
><DT
><A
HREF="function.pg-get-pid.html"
>pg_get_pid</A
>&nbsp;--&nbsp;Ping database connection</DT
><DT
><A
HREF="function.pg-get-result.html"
>pg_get_result</A
>&nbsp;--&nbsp;
     Get asynchronous query result
    </DT
><DT
><A
HREF="function.pg-host.html"
>pg_Host</A
>&nbsp;--&nbsp;Devuelve el nombre del host</DT
><DT
><A
HREF="function.pg-insert.html"
>pg_insert</A
>&nbsp;--&nbsp;
     Insert array into table.
    </DT
><DT
><A
HREF="function.pg-last-error.html"
>pg_last_error</A
>&nbsp;--&nbsp;Get the last error message string of a connection</DT
><DT
><A
HREF="function.pg-last-notice.html"
>pg_last_notice</A
>&nbsp;--&nbsp;
     Returns the last notice message from PostgreSQL server
    </DT
><DT
><A
HREF="function.pg-last-oid.html"
>pg_last_oid</A
>&nbsp;--&nbsp;Returns the last object's oid</DT
><DT
><A
HREF="function.pg-lo-close.html"
>pg_lo_close</A
>&nbsp;--&nbsp;Close a large object</DT
><DT
><A
HREF="function.pg-lo-create.html"
>pg_lo_create</A
>&nbsp;--&nbsp;Create a large object</DT
><DT
><A
HREF="function.pg-lo-export.html"
>pg_lo_export</A
>&nbsp;--&nbsp;Export a large object to file</DT
><DT
><A
HREF="function.pg-lo-import.html"
>pg_lo_import</A
>&nbsp;--&nbsp;Import a large object from file</DT
><DT
><A
HREF="function.pg-lo-open.html"
>pg_lo_open</A
>&nbsp;--&nbsp;Open a large object</DT
><DT
><A
HREF="function.pg-lo-read-all.html"
>pg_lo_read_all</A
>&nbsp;--&nbsp;
     Reads an entire large object and send straight to browser
    </DT
><DT
><A
HREF="function.pg-lo-read.html"
>pg_lo_read</A
>&nbsp;--&nbsp;Read a large object</DT
><DT
><A
HREF="function.pg-lo-seek.html"
>pg_lo_seek</A
>&nbsp;--&nbsp;
     Seeks position of large object
    </DT
><DT
><A
HREF="function.pg-lo-tell.html"
>pg_lo_tell</A
>&nbsp;--&nbsp;
     Returns current position of large object
    </DT
><DT
><A
HREF="function.pg-lo-unlink.html"
>pg_lo_unlink</A
>&nbsp;--&nbsp;Delete a large object</DT
><DT
><A
HREF="function.pg-lo-write.html"
>pg_lo_write</A
>&nbsp;--&nbsp;Write a large object</DT
><DT
><A
HREF="function.pg-meta-data.html"
>pg_meta_data</A
>&nbsp;--&nbsp;
     Get meta data for table.
    </DT
><DT
><A
HREF="function.pg-num-fields.html"
>pg_num_fields</A
>&nbsp;--&nbsp;Returns the number of fields</DT
><DT
><A
HREF="function.pg-num-rows.html"
>pg_num_rows</A
>&nbsp;--&nbsp;Returns the number of rows</DT
><DT
><A
HREF="function.pg-options.html"
>pg_Options</A
>&nbsp;--&nbsp;Devuelve opciones</DT
><DT
><A
HREF="function.pg-parameter-status.html"
>pg_parameter_status</A
>&nbsp;--&nbsp;
   Returns the value of a server parameter
  </DT
><DT
><A
HREF="function.pg-pconnect.html"
>pg_pConnect</A
>&nbsp;--&nbsp;
     Crea una conexión persistente con una base de datos
    </DT
><DT
><A
HREF="function.pg-ping.html"
>pg_ping</A
>&nbsp;--&nbsp;Ping database connection</DT
><DT
><A
HREF="function.pg-port.html"
>pg_Port</A
>&nbsp;--&nbsp;Devuelve el número de puerto</DT
><DT
><A
HREF="function.pg-put-line.html"
>pg_put_line</A
>&nbsp;--&nbsp;Send a NULL-terminated string to PostgreSQL backend</DT
><DT
><A
HREF="function.pg-query.html"
>pg_query</A
>&nbsp;--&nbsp;Execute a query</DT
><DT
><A
HREF="function.pg-result-error.html"
>pg_result_error</A
>&nbsp;--&nbsp;
     Get error message associated with result
    </DT
><DT
><A
HREF="function.pg-result-seek.html"
>pg_result_seek</A
>&nbsp;--&nbsp;Set internal row offset in result resource</DT
><DT
><A
HREF="function.pg-result-status.html"
>pg_result_status</A
>&nbsp;--&nbsp;
     Get status of query result
    </DT
><DT
><A
HREF="function.pg-select.html"
>pg_select</A
>&nbsp;--&nbsp;
     Select records.
    </DT
><DT
><A
HREF="function.pg-send-query.html"
>pg_send_query</A
>&nbsp;--&nbsp;
     Sends asynchronous query
    </DT
><DT
><A
HREF="function.pg-set-client-encoding.html"
>pg_set_client_encoding</A
>&nbsp;--&nbsp;
     Set the client encoding
    </DT
><DT
><A
HREF="function.pg-trace.html"
>pg_trace</A
>&nbsp;--&nbsp;Enable tracing a PostgreSQL connection</DT
><DT
><A
HREF="function.pg-tty.html"
>pg_tty</A
>&nbsp;--&nbsp;Devuelve el nombre del tty</DT
><DT
><A
HREF="function.pg-unescape-bytea.html"
>pg_unescape_bytea</A
>&nbsp;--&nbsp;
     Unescape binary for bytea type
    </DT
><DT
><A
HREF="function.pg-untrace.html"
>pg_untrace</A
>&nbsp;--&nbsp;Disable tracing of a PostgreSQL connection</DT
><DT
><A
HREF="function.pg-update.html"
>pg_update</A
>&nbsp;--&nbsp;
     Update table.
    </DT
><DT
><A
HREF="function.pg-version.html"
>pg_version</A
>&nbsp;--&nbsp;
   Returns an array with client, protocol and server version (when available)
  </DT
></DL
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="function.posix-uname.html"
ACCESSKEY="P"
>Anterior</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Inicio</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="function.pg-affected-rows.html"
ACCESSKEY="N"
>Siguiente</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>posix_uname</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="funcref.html"
ACCESSKEY="U"
>Subir</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>pg_affected_rows</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>