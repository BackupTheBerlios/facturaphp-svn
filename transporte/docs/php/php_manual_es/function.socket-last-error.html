<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>socket_last_error</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="Manual de PHP"
HREF="index.html"><LINK
REL="UP"
TITLE="Funciones de Socket"
HREF="ref.sockets.html"><LINK
REL="PREVIOUS"
TITLE="socket_iovec_set"
HREF="function.socket-iovec-set.html"><LINK
REL="NEXT"
TITLE="socket_listen"
HREF="function.socket-listen.html"><META
HTTP-EQUIV="Content-type"
CONTENT="text/html; charset=ISO-8859-1"></HEAD
><BODY
CLASS="refentry"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Manual de PHP</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="function.socket-iovec-set.html"
ACCESSKEY="P"
>Anterior</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="function.socket-listen.html"
ACCESSKEY="N"
>Siguiente</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="function.socket-last-error"
></A
>socket_last_error</H1
><DIV
CLASS="refnamediv"
><A
NAME="AEN101783"
></A
><P
>    (PHP 4 &#62;= 4.1.0, PHP 5)</P
>socket_last_error&nbsp;--&nbsp;Returns the last error on the socket </DIV
><DIV
CLASS="refsect1"
><A
NAME="AEN101786"
></A
><H2
>Description</H2
>int <B
CLASS="methodname"
>socket_last_error</B
> ( [resource socket])<BR
></BR
><DIV
CLASS="warning"
><P
></P
><TABLE
CLASS="warning"
BORDER="1"
WIDTH="100%"
><TR
><TD
ALIGN="CENTER"
><B
>Aviso</B
></TD
></TR
><TR
><TD
ALIGN="LEFT"
><P
>Esta función
es <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>EXPERIMENTAL</I
></SPAN
>. Esto significa que el
comportamiento de esta función, el nombre de esta
función y en definitiva TODO lo documentado sobre esta
función, puede cambiar en una futura version de PHP SIN
AVISO. La advertencia queda hecha, y utilizar esta extensión
queda bajo su propia responsabilidad.</P
></TD
></TR
></TABLE
></DIV
><P
>&#13;     This function returns a socket error code.
    </P
><P
>&#13;     If a socket resource is passed to this function, the last error which
     occurred on this particular socket is returned. If the socket resource is
     omitted, the error code of the last failed socket function is returned.
     The latter is in particular helpful for functions like
     <A
HREF="function.socket-create.html"
><B
CLASS="function"
>socket_create()</B
></A
> which don't return a socket on
     failure and <A
HREF="function.socket-select.html"
><B
CLASS="function"
>socket_select()</B
></A
> which can fail for reasons
     not directly tied to a particular socket.  The error code is suitable to
     be fed to <A
HREF="function.socket-strerror.html"
><B
CLASS="function"
>socket_strerror()</B
></A
> which returns a string
     describing the given error code.
     <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><code><font color="#000000">
<font color="#0000BB">&lt;?php<br /></font><font color="#007700">if (</font><font color="#0000BB">false </font><font color="#007700">== (</font><font color="#0000BB">$socket </font><font color="#007700">= @</font><font color="#0000BB">socket_create</font><font color="#007700">(</font><font color="#0000BB">AF_INET</font><font color="#007700">, </font><font color="#0000BB">SOCK_STREAM</font><font color="#007700">, </font><font color="#0000BB">SOL_TCP</font><font color="#007700">))) {<br />&nbsp;&nbsp;&nbsp;&nbsp;die(</font><font color="#DD0000">"Couldn't create socket, error code is: " </font><font color="#007700">. </font><font color="#0000BB">socket_last_error</font><font color="#007700">() .<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#DD0000">",error message is: " </font><font color="#007700">. </font><font color="#0000BB">socket_strerror</font><font color="#007700">(</font><font color="#0000BB">socket_last_error</font><font color="#007700">()));<br />}<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD
></TR
></TABLE
>
    </P
><DIV
CLASS="note"
><BLOCKQUOTE
CLASS="note"
><P
><B
>Nota: </B
>
      <B
CLASS="function"
>socket_last_error()</B
> does not clear the error code, use
      <A
HREF="function.socket-clear-error.html"
><B
CLASS="function"
>socket_clear_error()</B
></A
> for this purpose.
     </P
></BLOCKQUOTE
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="function.socket-iovec-set.html"
ACCESSKEY="P"
>Anterior</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Inicio</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="function.socket-listen.html"
ACCESSKEY="N"
>Siguiente</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>socket_iovec_set</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="ref.sockets.html"
ACCESSKEY="U"
>Subir</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>socket_listen</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>