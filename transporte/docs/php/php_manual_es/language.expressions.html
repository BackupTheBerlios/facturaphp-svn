<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>Expresiones</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="Manual de PHP"
HREF="index.html"><LINK
REL="UP"
TITLE="Referencia del Lenguaje"
HREF="langref.html"><LINK
REL="PREVIOUS"
TITLE="Constantes predefinidas"
HREF="language.constants.predefined.html"><LINK
REL="NEXT"
TITLE="Operadores"
HREF="language.operators.html"><META
HTTP-EQUIV="Content-type"
CONTENT="text/html; charset=ISO-8859-1"></HEAD
><BODY
CLASS="chapter"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Manual de PHP</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="language.constants.predefined.html"
ACCESSKEY="P"
>Anterior</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="language.operators.html"
ACCESSKEY="N"
>Siguiente</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="chapter"
><H1
><A
NAME="language.expressions"
>Capítulo 9. Expresiones</A
></H1
><P
>&#13;  Las expresiones son la piedra angular de PHP. En PHP, casi cualquier
  cosa que escribes es una expresión. La forma más
  simple y ajustada de definir una expresión es "cualquier cosa
  que tiene un valor".
 </P
><P
>&#13;  Las formas más básicas de expresiones son las
  constantes y las variables.  Cuando escribes "$a = 5", estás
  asignando '5' a $a. '5', obviamente, tiene el valor 5 ó, en otras
  palabras '5' es una expresión con el valor 5 (en este caso,
  '5' es una constante entera).
 </P
><P
>&#13;  Después de esta asignación, se espera que el valor de
  $a sea 5 también, de manera que si escribes $b = $a, se
  espera también que se comporte igual que si escribieses $b =
  5. En otras palabras, $a es una expresión también con
  el valor 5. Si todo va bien, eso es exactamente lo que
  pasará.
 </P
><P
>&#13;    Las funciones son un ejemplo algo más complejo de
    expresiones. Por ejemplo, considera la siguiente función:

  <DIV
CLASS="informalexample"
><P
></P
><A
NAME="AEN3234"
></A
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><code><font color="#000000">
<font color="#0000BB">&lt;?php<br /></font><font color="#007700">function </font><font color="#0000BB">foo </font><font color="#007700">() {<br />&nbsp;&nbsp;&nbsp;&nbsp;return </font><font color="#0000BB">5</font><font color="#007700">;<br />}<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD
></TR
></TABLE
><P
></P
></DIV
>
 </P
><P
>&#13;  Suponiendo que estés familiarizado con el concepto de
  funciones (si no lo estás échale un vistazo al
  capítulo sobre funciones), asumirás que teclear
  <VAR
CLASS="literal"
>$c = foo()</VAR
> es esencialmente lo mismo que escribir
  <VAR
CLASS="literal"
>$c = 5</VAR
>, y has acertado. Las funciones son
  expresiones que valen el valor que retornan. Como foo() devuelve 5,
  el valor de la expresión 'foo()' es 5. Normalmente las
  funciones no devuelven un valor fijo, sino que suele ser
  calculado.
 </P
><P
>&#13;  Desde luego, los valores en PHP no se limitan a enteros, y lo
  más normal es que no lo sean. PHP soporta tres tipos
  escalares: enteros, punto flotante y cadenas (los tipos escalares
  son aquellos cuyos valores no pueden 'dividirse' en partes menores,
  no como los arrays, por ejemplo).  PHP también soporta dos
  tipos compuestos (no escalares): arrays y objetos.  Se puede asignar
  cada uno de estos tipos de valor a variables o bien retornarse de
  funciones, sin ningún tipo de limitación.
 </P
><P
>&#13;  Hasta aquí, los usuarios de PHP/FI 2 no deberían haber
  notado ningún cambio.  Sin embargo, PHP lleva las expresiones
  mucho más allá, al igual que otros lenguajes.  PHP es
  un lenguaje orientado a expresiones, en el sentido de que casi todo
  es una expresión. Considera el ejemplo anterior '$a = 5'. Es
  sencillo ver que hay dos valores involucrados, el valor de la
  constante entera '5', y el valor de $a que está siendo
  actualizado también a 5. Pero la verdad es que hay un valor
  adicional implicado aquí, y es el valor de la propia
  asignación.  La asignación misma se evalúa al
  valor asignado, en este caso 5.  En la práctica, quiere decir
  que '$a = 5', independientemente de lo que hace, es una
  expresión con el valor 5. De esta manera, escribir algo como
  '$b = ($a = 5)' es como escribir '$a = 5; $b = 5;' (un punto y coma
  marca el final de una instrucción). Como las asignaciones se
  evalúan de derecha a izquierda, puedes escribir
  también '$b = $a = 5'.
 </P
><P
>&#13;  Otro buen ejemplo de orientación a expresiones es el pre y
  post incremento y decremento. Los usuarios de PHP/FI 2 y los de
  otros muchos lenguajes les sonará la notación
  variable++ y variable--. Esto son las operaciones de incremento y
  decremento. En PHP/FI 2, la instrucción '$a++' no tiene valor
  (no es una expresión), y no puedes asignarla o usarla de
  ningún otro modo.  PHP mejora las características del
  incremento/decremento haciéndolos también expresiones,
  como en C. En PHP, como en C, hay dos tipos de incremento -
  pre-incremento y post-incremento. Ambos, en esencia, incrementan la
  variable y el efecto en la variable es idéntico. La
  diferencia radica en el valor de la propia expresion incremento.  El
  preincremento , escrito '++$variable', se evalúa al valor
  incrementado (PHP incrementa la variable antes de leer su valor, de
  ahí el nombre 'preincremento').  El postincremento, escrito
  '$variable++', se evalúa al valor original de $variable antes
  de realizar el incremento (PHP incrementa la variable después
  de leer su valor, de ahí el nombre
  'postincremento').
 </P
><P
>&#13;  Un tipo muy corriente de expresiones son las expresiones de
  comparación.  Estas expresiones se evalúan a 0 o 1,
  significando FALSO (<TT
CLASS="constant"
><B
>FALSE</B
></TT
>) o VERDADERO (<TT
CLASS="constant"
><B
>TRUE</B
></TT
>), respectivamente. PHP
  soporta &#62; (mayor que), &#62;= (mayor o igual que), == (igual que), !=
  (distinto), &#60; (menor que) y &#60;= (menor o igual que). Estas
  expresiones se usan frecuentemente dentro de la ejecución
  condicional como la instrucción
  <VAR
CLASS="literal"
>if</VAR
>.
 </P
><P
>&#13;  El último tipo de expresiones que trataremos, es la
  combinación operador-asignación.  Ya sabes que si
  quieres incrementar $a en 1, basta con escribir '$a++' o ++$a'.
  Pero qué pasa si quieres añadir más de 1, por
  ejemplo 3?  Podrías escribir '$a++' múltiples veces,
  pero no es una forma de hacerlo ni eficiente ni cómoda. Una
  práctica mucho más corriente es escribir '$a = $a +
  3'. '$a + 3' se evalúa al valor de $a más 3, y se
  asigna de nuevo a $a, lo que resulta en incrementar $a en 3. En PHP,
  como en otros lenguajes como C, puedes escribir esto de una forma
  más concisa, que con el tiempo será más clara y
  también fácil de entender. Añadir 3 al valor
  actual de $a se puede escribir como '$a += 3'. Esto quiere decir
  exactamente "toma el valor de $a, súmale 3, y asígnalo
  otra vez a $a".  Además de ser más corto y claro,
  también resulta en una ejecución más
  rápida.  El valor de '$a += 3', como el valor de una
  asignación normal y corriente, es el valor asignado. Ten en
  cuenta que NO es 3, sino el valor combinado de $a más 3
  (ése es el valor asignado a $a). Cualquier operación
  binaria puede ser usada en forma de operador-asignación, por
  ejemplo '$a -= 5' (restar 5 del valor de $a), '$b *= 7' (multiplicar
  el valor de $b por 7), etc.
 </P
><P
>&#13;  Hay otra expresión que puede parecer extraña si no la
  has visto en otros lenguaes, el operador condicional ternario:
  
  <DIV
CLASS="informalexample"
><P
></P
><A
NAME="AEN3248"
></A
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><code><font color="#000000">
<font color="#0000BB">&lt;?php<br />$first </font><font color="#007700">? </font><font color="#0000BB">$second </font><font color="#007700">: </font><font color="#0000BB">$third<br />?&gt;</font>
</font>
</code></TD
></TR
></TABLE
><P
></P
></DIV
>

  Si el valor de la primera subexpresión es verdadero (distinto
  de cero), entonces se evalúa la segunda subexpresión,
  si no, se evalúa la tercera y ése es el valor.</P
><P
>&#13;  El siguiente ejemplo te ayudará a comprender un poco mejor el
  pre y post incremento y las expresiones en general:
  
  <DIV
CLASS="informalexample"
><P
></P
><A
NAME="AEN3251"
></A
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><code><font color="#000000">
<font color="#0000BB">&lt;?php<br /></font><font color="#007700">function </font><font color="#0000BB">double</font><font color="#007700">(</font><font color="#0000BB">$i</font><font color="#007700">) {<br />&nbsp;&nbsp;&nbsp;&nbsp;return </font><font color="#0000BB">$i</font><font color="#007700">*</font><font color="#0000BB">2</font><font color="#007700">;<br />}<br /></font><font color="#0000BB">$b </font><font color="#007700">= </font><font color="#0000BB">$a </font><font color="#007700">= </font><font color="#0000BB">5</font><font color="#007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/* asignar el valor cinco a las variables $a y $b */<br /></font><font color="#0000BB">$c </font><font color="#007700">= </font><font color="#0000BB">$a</font><font color="#007700">++;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/* postincremento, asignar el valor original de $a (5) a $c */<br /></font><font color="#0000BB">$e </font><font color="#007700">= </font><font color="#0000BB">$d </font><font color="#007700">= ++</font><font color="#0000BB">$b</font><font color="#007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/* preincremento, asignar el valor incrementado de $b (6) a <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$d y a $e */<br /><br />/* en este punto, tanto $d como $e son iguales a 6 */<br /><br /></font><font color="#0000BB">$f </font><font color="#007700">= </font><font color="#0000BB">double</font><font color="#007700">(</font><font color="#0000BB">$d</font><font color="#007700">++);&nbsp;&nbsp;</font><font color="#FF8000">/* asignar el doble del valor de $d antes<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;del incremento, 2*6 = 12 a $f */<br /></font><font color="#0000BB">$g </font><font color="#007700">= </font><font color="#0000BB">double</font><font color="#007700">(++</font><font color="#0000BB">$e</font><font color="#007700">);&nbsp;&nbsp;</font><font color="#FF8000">/* asignar el doble del valor de $e despu&amp;eacute;s<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;del incremento, 2*7 = 14 a $g */<br /></font><font color="#0000BB">$h </font><font color="#007700">= </font><font color="#0000BB">$g </font><font color="#007700">+= </font><font color="#0000BB">10</font><font color="#007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/* primero, $g es incrementado en 10 y termina valiendo 24.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;despu&amp;eacute;s el valor de la asignaci&amp;oacute;n (24) se asigna a $h, <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y $h tambi&amp;eacute;n acaba valiendo 24. */<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD
></TR
></TABLE
><P
></P
></DIV
>
 </P
><P
>&#13;  Al principio del capítulo hemos dicho que
  describiríamos los distintos tipos de instrucciones y, como
  prometimos, las expresiones pueden ser instrucciones. Sin embargo,
  no todas las expresiones son instrucciones.  En este caso, una
  instrucción tiene la forma 'expr' ';', es decir, una
  expresión seguida de un punto y coma. En '$b=$a=5;', $a=5 es
  una expresión válida, pero no es una
  instrucción en sí misma. Por otro lado '$b=$a=5:'
  sí es una instrucción válida.
 </P
><P
>&#13;  Una última cosa que vale la pena mencionar, es el valor
  booleano de las expresiones. En muchas ocasiones, principalmente en
  condicionales y bucles, no estás interesado en el valor
  exacto de la expresión, sino únicamente si es <TT
CLASS="constant"
><B
>TRUE</B
></TT
>
  ó <TT
CLASS="constant"
><B
>FALSE</B
></TT
> Las constantes <TT
CLASS="constant"
><B
>TRUE</B
></TT
> y <TT
CLASS="constant"
><B
>FALSE</B
></TT
> son los dos
  posibles valores booleanos. Cuando es necesario, una
  expresión se puede transformar automáticamente al tipo
  booleano. Consultar la <A
HREF="language.types.type-juggling.html#language.types.typecasting"
>sección sobre
  type-casting</A
> para obtener detalles de como se hace.
 </P
><P
>&#13;  PHP brinda una completa y potente implementación de
  expresiones, y documentarla enteramente está más
  allá del objetivo de este manual.  Los ejemplos anteriores,
  deberían darte una buena idea de qué son las
  expresiones y cómo construir expresiones útiles. A lo
  largo del resto del manual, escribiremos
  <VAR
CLASS="replaceable"
>expr</VAR
> para indicar una expresión
  PHP válida.
 </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="language.constants.predefined.html"
ACCESSKEY="P"
>Anterior</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Inicio</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="language.operators.html"
ACCESSKEY="N"
>Siguiente</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Constantes predefinidas</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="langref.html"
ACCESSKEY="U"
>Subir</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Operadores</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>